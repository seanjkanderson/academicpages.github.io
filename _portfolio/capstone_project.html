---
title: "Distributed Nonlinear Model Predictive Control (DNMPC) for Autonomous Droop-Controlled Inverter-Based Microgrids"
excerpt: "A DNMPC tracking problem with nonlinear state estimation<br/><img src='/images/simulink_plant.jpg'
                                                                            width="500" height="300">"
collection: portfolio
---
For my undergraduate capstone, I chose to work on an independent project supervised by Patricia Hidalgo-Gonzalez
(PhD Candidate EECS/Energy and Resources Group University of California Berkeley). The result was this project on
secondary control of voltage in a microgrid setting. Here I include some of the basics of it.

<br>

__Abstract__:
In this paper, a voltage restoration scheme for droop-controlled inverter-based islanded microgrids is proposed.
A distributed model predictive control (DMPC) method is designed to be run at each inverter, which only communicates
with its immediate neighbors. The DMPC aims to solve a reference tracking problem in order to restore the voltages of
all the nodes in the system to the voltage reference. The dynamics for this work are taken to be decoupled from the real
power-frequency dynamics in order to focus the work on restoring the location-varying nature of voltage. The scheme is
demonstrated to be stable on a Simulink simulator designed for this work.

<br>

<b>
    The methods used in this work:
</b>
<ul>
    <li>Distributed unscented Kalman filter (UKF)</li>
    <li>Distributed nonlinear model predictive control (DNMPC)</li>
    <li>Tracking MPC with analytical solution to integral action for nonlinear dynamics</li>
</ul>


<b>
    The goals addressed in this work:
</b>
<ul>
    <li>Design a distributed controller to restore the voltage in a network to its nominal value in finite-time.</li>
    <li>Restore the local voltage synchronously with its neighbors.</li>
    <li>Track the reference without offset.</li>
    <li>Keep the voltage within the operating bounds.</li>
</ul>

<br>

Two simulators were used to test the distributed nonlinear model predictive control. The first method used just 
Simulink and used perfect dynamics with Gaussian noise. The second framework was built using PLECS sitting on Simulink. 
This model lacked fidelity in areas that the first method performed well in but this verified that the voltage 
restoration could be performed independently of the frequency restoration.

<figure>
<img src="/images/simulink_plant.jpg" alt="Simulink plant">
<figcaption>The first simulator (Simulink), with subsystems to reduce clutter.
    The architecture is explicitly distributed.</figcaption>
</figure>

<figure>
<img src="/images/plecs_model.jpg" alt="PLECS Model">
<figcaption>The second simulator (PLECS on Simulink), lightly adapted from a PLECS library model.</figcaption>
</figure>

<figure>
<img src="/images/simulink_integral_action.jpg" alt="Integral action">
<figcaption>Constant disturbance rejection with random walk estimator.</figcaption>
</figure>

<figure>
<img src="/images/simulink_integral_action_noisy.jpg" alt="Integral action noisy">
<figcaption>Noisy disturbance rejection with random walk estimator.</figcaption>
</figure>


